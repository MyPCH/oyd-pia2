<% provide(:title, t('requestDataVault.confirmTitle')) %>
<p>&nbsp;</p>
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><%= t('requestDataVault.confirmTitle') %></h3>
                </div>
                <div class="panel-body">
                    <% flash.each do |message_type, message| %>
                        <div class="alert alert-<%= message_type %>"><%= message %></div>
                    <% end %>
                    <%= form_with url: users_confirm_email_url do |form| %>
                        <fieldset>
                            <div class="form-group">
                                <% if @full_name == "" %>
                                    <%= form.text_field :full_name, 
                                        class: "form-control", 
                                        placeholder: t('requestDataVault.full_name') %>
                                <% else %>
                                    <%= form.text_field :full_name, 
                                        value: @full_name,
                                        class: "form-control" %>
                                <% end %>
                            </div>
                            <div class="form-group">
                                <%= form.password_field :password, 
                                    class: "form-control", 
                                    placeholder: t('general.password') %>
                            </div>
                            <div class="form-group">
                                <%= form.password_field :password_confirmation, 
                                    class: "form-control", 
                                    placeholder: t('general.passwordConfirmation') %>
                            </div>
                            <hr>
                            <p style="line-height: 1.3em;"><small><strong><%= t('dialog.attention') %>:</strong> 
                                <%= t('dialog.recoveryTxt') %></small></p>
                            <div class="form-group">
                                <%= form.password_field :recovery_password, 
                                    class: "form-control", 
                                    placeholder: t('general.passwordRecovery') %>
                            </div>
                            <div class="form-group">
                                <%= form.password_field :recovery_password_confirmation, 
                                    class: "form-control", 
                                    placeholder: t('general.passwordRecoveryConfirmation') %>
                            </div>
                            <%= form.hidden_field "token", value: params[:token] %>
                            <%= form.button t('dialog.submitBtn'), 
                                class: "btn btn-success btn-lg btn-block",
                                data: { disable_with: 
                                    "<i class='fa fa-spinner fa-spin'></i> " + 
                                    t('dialog.submitBtn') } %>
                        </fieldset>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</div>